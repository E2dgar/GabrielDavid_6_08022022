(()=>{"use strict";var e,t,a,n,o,r,s={837:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(969),o=a(218);var r=a(225);const s=async e=>{document.querySelector("body").className="home-page",document.title="Fisheye ";const t=[document.querySelector("section.hero-photographer"),document.querySelector("section.medias-section"),document.querySelector("aside")];document.querySelector("section.hero-photographer"),document.querySelector("section.medias-section"),t.forEach((e=>{e&&e.remove()})),(0,n.Z)("Nos photographes");const a=document.getElementById("main-content");if(!document.querySelector("section.photographer-section")){const t=(0,o.G)("section","photographer-section",[{name:"id",value:"list"}]);e.forEach((e=>t.append((e=>{const t=(0,o.G)("article","photographer"),a=(0,o.G)("a","photographer-link data-link",[{name:"href",value:`#${e.id}`}]),n=(0,o.G)("div","media-container"),s=(0,o.G)("img","",[{name:"src",value:r.E.USER_THUMB+e.portrait},{name:"alt",value:e.name}]);n.append(s);const c=(0,o.G)("h2","","",e.name);a.append(n,c);const i=(0,o.G)("h3","","",`${e.country}, ${e.city}`),l=(0,o.G)("p","","",e.tagline),p=(0,o.G)("p","","",`${e.price}€/jour`);return t.append(a,i,l,p),t})(new class{constructor(e){this.name=e.name,this.id=e.id,this.city=e.city,this.country=e.country,this.tagline=e.tagline,this.price=e.price,this.portrait=e.portrait}async getMedias(){const{media:e}=await(0,o.Y)();return e.filter((e=>this.id===parseInt(e.photographerId)))}}(e))))),a.append(t)}},c=e=>{s(e)}},348:(e,t,a)=>{a.d(t,{Z:()=>w});var n=a(969),o=a(218),r=a(225);const s=()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 20 20"),e.setAttribute("aria-hidden",!0);const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M9.5 18.35L8.23125 17.03C3.725 12.36 0.75 9.28 0.75 5.5C0.75 2.42 2.8675 0 5.5625 0C7.085 0 8.54625 0.81 9.5 2.09C10.4537 0.81 11.915 0 13.4375 0C16.1325 0 18.25 2.42 18.25 5.5C18.25 9.28 15.275 12.36 10.7688 17.04L9.5 18.35Z"),e.append(t),e},c=e=>"image"===e.type?((e,t)=>{const a=document.createElement("img");return a.setAttribute("alt",e),a.setAttribute("src",r.E.MEDIA_IMG_THUMB+t),a})(e.title,e.image):"video"===e.type?((e,t)=>{const a=document.createElement("img");return a.setAttribute("alt",e),a.setAttribute("src",r.E.MEDIA_VIDEO_THUMB+t.replace(".","")+".png"),a})(e.title,e.video):"Format error",i=(0,o.G)("div","listbox"),l=(0,o.G)("span","",[{name:"id",value:"select-label"}],"Trier par"),p=(0,o.G)("div","select"),d=(0,o.G)("button","",[{name:"aria-haspopup",value:"listbox"},{name:"aria-labelledby",value:"select-label select-button"},{name:"id",value:"select-button"}]),u=(0,o.G)("ul","hidden",[{name:"tabindex",value:-1},{name:"role",value:"listbox"},{name:"aria-labelledby",value:"select-label"},{name:"aria-activedescendant",value:""}]);[{key:"popular",value:"Popularité"},{key:"date",value:"Date"},{key:"title",value:"Titre"}].forEach((e=>{let t=(0,o.G)("li","",[{name:"id",value:e.key},{name:"role",value:"option"}],e.value);u.append(t)})),p.append(d,u),i.append(l,p);const m=i,h=e=>{let t=document.querySelector("section.medias-section");t&&t.remove(),t=(0,o.G)("section","medias-section");const a=(0,o.G)("div","medias-wrapper");return e.forEach((e=>a.append((e=>{const t=document.createElement("article");t.className="media-card";const a=document.createElement("div");a.className="img-container";const n=c(e);a.append(n);const r=document.createElement("p");r.className="media-legend";const i=document.createElement("h3");i.textContent=e.title;const l=document.createElement("span");l.textContent=e.likes;const p=(0,o.G)("button","like-button",[{name:"aria-label",value:"likes"}]),d=s();return d.addEventListener("click",(()=>{const e=document.querySelector("aside span.counter");l.textContent++,e.textContent++})),p.append(d),r.append(i,l,p),t.append(a,r),t})(e)))),t.append(m,a),t},v=class{constructor(e){this.title=e.title,this.likes=e.likes,this.date=e.date,this.price=e.price}},y=class extends v{constructor(e){super(e),this.type="image",this.image=e.image}},g=class extends v{constructor(e){super(e),this.type="video",this.video=e.video}},b=(e,t)=>{document.querySelector("body").className="photographer-page",(0,n.Z)(),document.querySelector("#list").remove();const a=(e=>{let t=document.querySelector("section.hero-photographer");t?t.remove():t=(0,o.G)("section","hero-photographer");const a=(0,o.G)("div"),n=(0,o.G)("h2","","",e.name),s=(0,o.G)("p","location","",e.city+", "+e.country),c=(0,o.G)("p","tagmine","",e.tagline);a.append(n,s,c);const i=(0,o.G)("button","","","Contactez-moi"),l=(0,o.G)("div","img-container"),p=(0,o.G)("img","",[{name:"src",value:r.E.USER_THUMB+e.portrait}]);return l.append(p),t.append(a,i,l),t})(e),c=[];t.forEach((e=>{return c.push((t=e).image?new y(t):t.video?new g(t):"Media format unknown");var t}));const i=h(c),l=document.querySelector("#main-content"),p=((e,t)=>{const a=(0,o.G)("aside");let n=0;e.forEach((e=>n+=e.likes));const r=(0,o.G)("span","counter","",n),c=s(),i=(0,o.G)("span","price","",t+"€ / jour");return a.append(r,c,i),a})(c,e.price);return l.append(a,i,p),l},w=async(e,t)=>{const a=e.filter((e=>e.id===parseInt(t))),n=new class{constructor(e){this.name=e.name,this.id=e.id,this.city=e.city,this.country=e.country,this.tagline=e.tagline,this.price=e.price,this.portrait=e.portrait}async getMedias(){const{media:e}=await(0,o.Y)();return e.filter((e=>this.id===parseInt(e.photographerId)))}}(a[0]);b(n,await n.getMedias())}},969:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(218);const o=e=>{const t=document.querySelector("header");if(!document.querySelector("header a")){const e=(0,n.G)("a","data-link",[{name:"href",value:"#"}]),a=(0,n.G)("img","logo",[{name:"alt",value:"Fisheye Home page"},{name:"src",value:"assets/images/logo.png"}]);e.append(a),t.append(e)}if(!document.querySelector("header h1")){const a=(0,n.G)("h1","","",e);t.append(a)}document.querySelector("body").classList.contains("home-page")||document.querySelector("header h1").remove()}},225:(e,t,a)=>{a.d(t,{E:()=>n});const n={API_URL:"src/js/data/photographers.json",USER_THUMB:"assets/photographers/",MEDIA_IMG_THUMB:"assets/medias/img/thumbs/",MEDIA_IMG_WIDE:"assets/medias/img/wide/",MEDIA_VIDEO:"assets/medias/video",MEDIA_VIDEO_THUMB:"assets/medias/video/thumbs/"}},497:(e,t,a)=>{a.a(e,(async(e,t)=>{try{a(485);var n=a(218),o=a(837),r=a(348);const{photographers:e}=await(0,n.Y)();window.onload=()=>{history.pushState(null,null,window.location.pathname);const t=document.querySelectorAll(".data-link");let a="";t.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),a=e.target.closest("a").href,history.pushState(null,null,window.location.pathname+a)}))})),(0,o.Z)(e)};const s=()=>{const t=window.location.hash.substring(1);""!==t&&"main-content"!==t?(0,r.Z)(e,t):(0,o.Z)(e)};window.onpopstate=s,t()}catch(e){t(e)}}),1)},218:(e,t,a)=>{a.d(t,{Y:()=>o,G:()=>r});var n=a(225);const o=async()=>{try{const e=await fetch(n.E.API_URL);return await e.json()}catch(e){console.log(e)}},r=(e,t,a,n)=>{const o=document.createElement(e);return t&&(o.className=t),a&&a.forEach((e=>{o.setAttribute(e.name,e.value)})),n&&(o.textContent=n),o}},485:()=>{}},c={};function i(e){var t=c[e];if(void 0!==t)return t.exports;var a=c[e]={exports:{}};return s[e](a,a.exports,i),a.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},o=e=>!--e.r&&e(),r=(e,t)=>e?e.push(t):o(t),i.a=(s,c,i)=>{var l,p,d,u=i&&[],m=s.exports,h=!0,v=!1,y=(t,a,n)=>{v||(v=!0,a.r+=t.length,t.map(((t,o)=>t[e](a,n))),v=!1)},g=new Promise(((e,t)=>{d=t,p=()=>(e(m),n(u),u=0)}));g[t]=m,g[e]=(e,t)=>{if(h)return o(e);l&&y(l,e,t),r(u,e),g.catch(t)},s.exports=g,c((s=>{var c;l=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var c=[];s.then((e=>{i[t]=e,n(c),c=0}),(e=>{i[a]=e,n(c),c=0}));var i={};return i[e]=(e,t)=>(r(c,e),s.catch(t)),i}}var l={};return l[e]=e=>o(e),l[t]=s,l})))(s);var i=()=>l.map((e=>{if(e[a])throw e[a];return e[t]})),p=new Promise(((e,t)=>{(c=()=>e(i)).r=0,y(l,c,t)}));return c.r?p:i()}),(e=>(e&&d(g[a]=e),p()))),h=!1},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(497)})();