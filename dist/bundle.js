(()=>{"use strict";const t="assets/photographers/",e=async()=>{try{const t=await fetch("src/js/data/photographers.json");return await t.json()}catch(t){console.log(t)}},n=async()=>{const n=document.querySelector("section.hero-photographer");n&&n.remove(),(t=>{const e=document.querySelector("header"),n=document.createElement("a");n.setAttribute("href","/index.html");const o=document.createElement("img");o.setAttribute("alt","Fisheye logo"),o.setAttribute("src","assets/images/logo.png"),o.className="logo",n.appendChild(o),e.appendChild(n),e.append(n);const a=document.createElement("h1");a.textContent="Nos photographes",e.append(a)})();const{photographers:o}=await e(),a=document.getElementById("main-content"),c=document.createElement("div");c.className="photographer_section",c.setAttribute("id","list"),o.forEach((e=>{c.innerHTML+=new class{constructor(t){this.name=t.name,this.id=t.id,this.city=t.city,this.country=t.country,this.tagline=t.tagline,this.price=t.price,this.portrait=t.portrait}createUserCard(){return`\n                <article class="photographer">\n                    <a href="#${this.id}" class="photographer-link data-link" data-link="">\n                        <div class="media-container">\n                            <img src="${t+this.portrait}" alt=""/>\n                        </div>\n                        <h2>${this.name}</h2>\n                    </a>\n                    <h3>${this.country}, ${this.city}</h3>\n                    <p>${this.tagline}</p>\n                    <p>${this.price}â‚¬/jour</p>\n                </article>\n                `}}(e).createUserCard()})),a.append(c)};window.onload=()=>{n(),history.pushState(null,null,"/index.html");const t=document.querySelectorAll(".data-link");let e="";t.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e=t.target.closest("a").href,history.pushState(null,null,e)}))}))},window.onpopstate=async()=>{const{photographers:o}=await e(),a=window.location.hash.substring(1);if(""!==a){(e=>{const n=document.getElementById("list");n&&n.remove(),document.title="Fisheye | "+e[0].name;const o=document.getElementById("main-content");let a=document.querySelector("section.hero-photographer");a&&a.remove(),a=document.createElement("section"),a.className="hero-photographer";const c=document.createElement("div"),s=document.createElement("h2");s.textContent=e[0].name;const r=document.createElement("p");r.className="location",r.textContent=e[0].city+", "+e[0].country;const i=document.createElement("p");i.className="tagline",i.textContent=e[0].tagline,c.append(s,r,i);const l=document.createElement("button");l.textContent="Contactez-moi";const h=document.createElement("div");h.className="img-container";const d=document.createElement("img");d.setAttribute("src",t+e[0].portrait),h.append(d),a.append(c,l,h),o.appendChild(a)})(o.filter((t=>t.id===parseInt(a))))}else n()}})();